var documenterSearchIndex = {"docs":
[{"location":"dataverse_access/#Dataverse-APIs","page":"-","title":"Dataverse APIs","text":"","category":"section"},{"location":"dataverse_access/#)-on-a-linux-computer,-create-names-and-ids-lists","page":"-","title":"1) on a linux computer, create names and ids lists","text":"","category":"section"},{"location":"dataverse_access/","page":"-","title":"-","text":"#!/bin/sh\n\nFILES=$(curl -s https://dataverse.harvard.edu/api/datasets/:persistentId?persistentId=doi:10.7910/DVN/EE3C40 | ./jq '.data.latestVersion.files[].dataFile.id')\nFILENAMES=$(curl -s https://dataverse.harvard.edu/api/datasets/:persistentId?persistentId=doi:10.7910/DVN/EE3C40 | ./jq '.data.latestVersion.files[].dataFile.filename')\n\necho $FILES > file_ids.csv\necho $FILENAMES > file_names.csv\n\n#for i in $FILES; do\n# echo \"wget --content-disposition https://dataverse.harvard.edu/api/access/datafile/$i\"\n#done","category":"page"},{"location":"dataverse_access/#)-in-julia,-combine-the-lists-in-a-csv-file","page":"-","title":"2) in julia, combine the lists in a csv file","text":"","category":"section"},{"location":"dataverse_access/","page":"-","title":"-","text":"using CSV, DataFrames\ndf1 = CSV.File(\"file_ids.csv\",transpose=true,header=0) |> DataFrame\ndf2 = CSV.File(\"file_names.csv\",transpose=true,header=0) |> DataFrame\ndf = DataFrame(ID=df1[!,:Column1],name=df2[!,:Column1])\nCSV.write(\"files.csv\", df)","category":"page"},{"location":"dataverse_access/#)-access-file-in-julia","page":"-","title":"3) access file in julia","text":"","category":"section"},{"location":"dataverse_access/","page":"-","title":"-","text":"fil=\"MITprof_mar2016_argo9506.nc\"\ntmp = CSV.File(\"dataverse_files.csv\") |> DataFrame\nii=findall(tmp[:,:name].==fil)\n\nrun(`wget --content-disposition https://dataverse.harvard.edu/api/access/datafile/$(tmp[ii,:ID])`)\n\nrun(`ls $(tmp[ii,:name])`)","category":"page"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = Dataverse","category":"page"},{"location":"#Dataverse.jl","page":"Home","title":"Dataverse.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package is about interfaces to the Dataverse project APIs, collections, datasets, etc.","category":"page"},{"location":"","page":"Home","title":"Home","text":"ðŸ‘‰ demo notebook and notebook code","category":"page"},{"location":"","page":"Home","title":"Home","text":"tip: Tip\nSome documentation on the Dataverse APIs is linked here.","category":"page"},{"location":"","page":"Home","title":"Home","text":"https://demo.dataverse.org\nhttps://pydataverse.readthedocs.io/en/latest/index.html\nhttps://guides.dataverse.org/en/5.11/api/index.html","category":"page"},{"location":"","page":"Home","title":"Home","text":"warning: Warning\nThis package is in very early development stage.","category":"page"},{"location":"#Functionalities","page":"Home","title":"Functionalities","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Modules = [pyDataverse, DataverseDownloads]","category":"page"},{"location":"#Dataverse.pyDataverse.APIs-Tuple{}","page":"Home","title":"Dataverse.pyDataverse.APIs","text":"APIs(;do_install=true,base_url = \"https://dataverse.harvard.edu/\")\n\n(DataAccessApi,NativeApi)=pyDataverse.APIs()\n\n\n\n\n\n","category":"method"},{"location":"#Dataverse.pyDataverse.dataset_file_list-Tuple{String}","page":"Home","title":"Dataverse.pyDataverse.dataset_file_list","text":"dataset_file_list(DOI::String=\"doi:10.7910/DVN/ODM2IQ\")\n\nUse NativeApi.get_dataset to derive the list of files (name, etc) via files_to_DataFrame.\n\ndataset_file_list(\"doi:10.7910/DVN/ODM2IQ\")\n\n\n\n\n\n","category":"method"},{"location":"#Dataverse.pyDataverse.dataset_file_list-Tuple{Symbol}","page":"Home","title":"Dataverse.pyDataverse.dataset_file_list","text":"dataset_file_list(nam::Symbol=:OCCA_clim)\n\nLookup DOI from list of demo data sets.\n\ndataset_file_list(:OCCA_clim)\n\n\n\n\n\n","category":"method"},{"location":"#Dataverse.pyDataverse.dataverse_file_list","page":"Home","title":"Dataverse.pyDataverse.dataverse_file_list","text":"dataverse_file_list(nam::Symbol=:ECCOv4r2)\n\nUse NativeApi.get_children to get the tree of datasets\nLoop through and return vector of dataset_file_list output\n\n\n\n\n\n","category":"function"},{"location":"#Dataverse.pyDataverse.demo","page":"Home","title":"Dataverse.pyDataverse.demo","text":"demo(option::String)\n\ncall demo_download if option==\"download\"\ncall demo_metadata if option==\"metadata\"\n\n\n\n\n\n","category":"function"},{"location":"#Dataverse.pyDataverse.demo_download-Tuple{}","page":"Home","title":"Dataverse.pyDataverse.demo_download","text":"demo_download(;path=tempdir(),DOI = \"doi:10.7910/DVN/KBHLOD\")\n\nReplicate the worflow example from \n\nhttps://pydataverse.readthedocs.io/en/latest/user/basic-usage.html#download-and-save-a-dataset-to-disk    \n\npyDataverse.demo_download()\n\n\n\n\n\n","category":"method"},{"location":"#Dataverse.pyDataverse.demo_metadata-Tuple{}","page":"Home","title":"Dataverse.pyDataverse.demo_metadata","text":"demo_metadata()\n\npyDataverse.demo_metadata()\n\n\n\n\n\n","category":"method"},{"location":"#Dataverse.pyDataverse.files_to_DataFrame-Tuple{Any}","page":"Home","title":"Dataverse.pyDataverse.files_to_DataFrame","text":"files_to_DataFrame(files)\n\nConvert output from dataset.json()[\"data\"][\"latestVersion\"][\"files\"] to DataFrame. \n\nSee notebook for a more complete example.\n\n\n\n\n\n","category":"method"},{"location":"#Dataverse.DataverseDownloads.download_files-Tuple{NamedTuple, String, String}","page":"Home","title":"Dataverse.DataverseDownloads.download_files","text":"download_files(lst::String,nam::String,pth::String)\n\nlst=downloads.download_urls(dataset_file_list(:OCCA_clim))\nDataverseDownloads.download_files(lst,lst.name[1],tempdir())\n\n\n\n\n\n","category":"method"},{"location":"#Dataverse.DataverseDownloads.download_urls-Tuple{DataFrames.DataFrame}","page":"Home","title":"Dataverse.DataverseDownloads.download_urls","text":"download_urls(lst::String)\n\nAdd download URL (using df.id) and return as NamedTuple.\n\n\n\n\n\n","category":"method"}]
}
