var documenterSearchIndex = {"docs":
[{"location":"dataverse_access/#Dataverse-APIs","page":"-","title":"Dataverse APIs","text":"","category":"section"},{"location":"dataverse_access/#1)-on-a-linux-computer,-create-names-and-ids-lists","page":"-","title":"1) on a linux computer, create names and ids lists","text":"","category":"section"},{"location":"dataverse_access/","page":"-","title":"-","text":"#!/bin/sh\n\nFILES=$(curl -s https://dataverse.harvard.edu/api/datasets/:persistentId?persistentId=doi:10.7910/DVN/EE3C40 | ./jq '.data.latestVersion.files[].dataFile.id')\nFILENAMES=$(curl -s https://dataverse.harvard.edu/api/datasets/:persistentId?persistentId=doi:10.7910/DVN/EE3C40 | ./jq '.data.latestVersion.files[].dataFile.filename')\n\necho $FILES > file_ids.csv\necho $FILENAMES > file_names.csv\n\n#for i in $FILES; do\n# echo \"wget --content-disposition https://dataverse.harvard.edu/api/access/datafile/$i\"\n#done","category":"page"},{"location":"dataverse_access/#2)-in-julia,-combine-the-lists-in-a-csv-file","page":"-","title":"2) in julia, combine the lists in a csv file","text":"","category":"section"},{"location":"dataverse_access/","page":"-","title":"-","text":"using CSV, DataFrames\ndf1 = CSV.File(\"file_ids.csv\",transpose=true,header=0) |> DataFrame\ndf2 = CSV.File(\"file_names.csv\",transpose=true,header=0) |> DataFrame\ndf = DataFrame(ID=df1[!,:Column1],name=df2[!,:Column1])\nCSV.write(\"files.csv\", df)","category":"page"},{"location":"dataverse_access/#3)-access-file-in-julia","page":"-","title":"3) access file in julia","text":"","category":"section"},{"location":"dataverse_access/","page":"-","title":"-","text":"fil=\"MITprof_mar2016_argo9506.nc\"\ntmp = CSV.File(\"dataverse_files.csv\") |> DataFrame\nii=findall(tmp[:,:name].==fil)\n\nrun(`wget --content-disposition https://dataverse.harvard.edu/api/access/datafile/$(tmp[ii,:ID])`)\n\nrun(`ls $(tmp[ii,:name])`)","category":"page"},{"location":"other/#pyDataverse-and-other-APIs","page":"Other","title":"pyDataverse and other APIs","text":"","category":"section"},{"location":"other/","page":"Other","title":"Other","text":"!!! The Python APIs for Dataverse are available via the PyCall and Conda package extensions. Documentation for these APIs is linked below.","category":"page"},{"location":"other/","page":"Other","title":"Other","text":"https://demo.dataverse.org\nhttps://pydataverse.readthedocs.io/en/latest/index.html\nhttps://guides.dataverse.org/en/5.11/api/index.html","category":"page"},{"location":"other/","page":"Other","title":"Other","text":"Modules = [pyDataverse]","category":"page"},{"location":"other/#Dataverse.pyDataverse.APIs-Tuple{}","page":"Other","title":"Dataverse.pyDataverse.APIs","text":"APIs(;do_install=true,base_url = \"https://dataverse.harvard.edu/\")\n\n(DataAccessApi,NativeApi)=pyDataverse.APIs()\n\n\n\n\n\n","category":"method"},{"location":"other/#Dataverse.pyDataverse.dataset_file_list-Tuple{String}","page":"Other","title":"Dataverse.pyDataverse.dataset_file_list","text":"dataset_file_list(DOI::String=\"doi:10.7910/DVN/ODM2IQ\")\n\nUse NativeApi.get_dataset to derive the list of files (name, etc) via files_to_DataFrame.\n\ndataset_file_list(\"doi:10.7910/DVN/ODM2IQ\")\n\n\n\n\n\n","category":"method"},{"location":"other/#Dataverse.pyDataverse.dataset_file_list-Tuple{Symbol}","page":"Other","title":"Dataverse.pyDataverse.dataset_file_list","text":"dataset_file_list(nam::Symbol=:OCCA_clim)\n\nLookup DOI from list of demo data sets.\n\ndataset_file_list(:OCCA_clim)\n\n\n\n\n\n","category":"method"},{"location":"other/#Dataverse.pyDataverse.dataverse_file_list","page":"Other","title":"Dataverse.pyDataverse.dataverse_file_list","text":"dataverse_file_list(nam::Symbol=:ECCOv4r2)\n\nUse NativeApi.get_children to get the tree of datasets\nLoop through and return vector of dataset_file_list output\n\n\n\n\n\n","category":"function"},{"location":"other/#Dataverse.pyDataverse.demo","page":"Other","title":"Dataverse.pyDataverse.demo","text":"demo(option::String)\n\ncall demo_download if option==\"download\"\ncall demo_metadata if option==\"metadata\"\n\n\n\n\n\n","category":"function"},{"location":"other/#Dataverse.pyDataverse.demo_download-Tuple{}","page":"Other","title":"Dataverse.pyDataverse.demo_download","text":"demo_download(;path=tempdir(),DOI = \"doi:10.7910/DVN/KBHLOD\")\n\nReplicate the worflow example from \n\nhttps://pydataverse.readthedocs.io/en/latest/user/basic-usage.html#download-and-save-a-dataset-to-disk    \n\npyDataverse.demo_download()\n\n\n\n\n\n","category":"method"},{"location":"other/#Dataverse.pyDataverse.demo_metadata-Tuple{}","page":"Other","title":"Dataverse.pyDataverse.demo_metadata","text":"demo_metadata()\n\npyDataverse.demo_metadata()\n\n\n\n\n\n","category":"method"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = Dataverse","category":"page"},{"location":"#Dataverse.jl","page":"Home","title":"Dataverse.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package is about interfaces to the Dataverse data collections and APIs.","category":"page"},{"location":"","page":"Home","title":"Home","text":"ðŸ‘‰ demo notebook and notebook code","category":"page"},{"location":"","page":"Home","title":"Home","text":"warning: Warning\nThis package is in early development stage.","category":"page"},{"location":"","page":"Home","title":"Home","text":"For example:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Dataverse \n\nDOI=\"doi:10.7910/DVN/EE3C40\"\nfiles=Dataverse.file_list(DOI)\nDataverse.file_download(DOI,files.filename[1])","category":"page"},{"location":"","page":"Home","title":"Home","text":"or ","category":"page"},{"location":"","page":"Home","title":"Home","text":"(header,dataverses,datasets)=Dataverse.dataverse_scan(:ECCOv4r2)","category":"page"},{"location":"","page":"Home","title":"Home","text":"then","category":"page"},{"location":"","page":"Home","title":"Home","text":"files=Dataverse.file_list(datasets.persistentUrl[1])","category":"page"},{"location":"","page":"Home","title":"Home","text":"and ","category":"page"},{"location":"","page":"Home","title":"Home","text":"Dataverse.file_download(files,files.filename[1])","category":"page"},{"location":"#Julia-Dataverse-API","page":"Home","title":"Julia Dataverse API","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"file_list\nfile_download\ndataverse_scan\nunzip\nuntargz","category":"page"},{"location":"#Dataverse.restDataverse.file_list","page":"Home","title":"Dataverse.restDataverse.file_list","text":"file_list(DOI::String=\"doi:10.7910/DVN/ODM2IQ\")\n\nUse HTTP, JSON, and DataFrames to list files in a dataset.\n\nReturn a DataFrame with filename, filesize, and id.\n\nfile_list(\"doi:10.7910/DVN/ODM2IQ\")\n\n\n\n\n\nfile_list(nam::Symbol=:OCCA_clim)\n\nLookup DOI from list of demo data sets (:OCCAclim or :ECCOclim).\n\n\n\n\n\n","category":"function"},{"location":"#Dataverse.downloads.file_download","page":"Home","title":"Dataverse.downloads.file_download","text":"file_download(DOI::String,nam::String,pth=tempdir())\n\nDOI=\"doi:10.7910/DVN/OYBLGK\"\nfilename=\"polygons_MBON_seascapes.geojson\"\nDataverse.file_download(DOI,filename)\n\n\n\n\n\nfile_download(list::DataFrame,nam::String,pth::String)\n\nlst=Dataverse.file_list(\"doi:10.7910/DVN/RNXA2A\")\nDataverse.file_download(lst,lst.filename[2],tempdir())\n\n\n\n\n\n","category":"function"},{"location":"#Dataverse.restDataverse.dataverse_scan","page":"Home","title":"Dataverse.restDataverse.dataverse_scan","text":"dataverse_scan(nam::Symbol=:ECCOv4r2)\n\nUse HTTP, JSON, and DataFrames to list contents in a dataverse.\n\nReturns header (Dict), dataverses (DataFrame), and datasets (DataFrame).\n\n(header,dataverses,datasets)=Dataverse.dataverse_scan()\nDataverse.file_list(datasets.persistentUrl[1])\n\n\n\n\n\n","category":"function"},{"location":"#Dataverse.downloads.unzip","page":"Home","title":"Dataverse.downloads.unzip","text":"function unzip(file,exdir=\"\")\n\nSource : @sylvaticus, https://discourse.julialang.org/t/ how-to-extract-a-file-in-a-zip-archive-without-using-os-specific-tools/34585/5\n\n\n\n\n\n","category":"function"},{"location":"#Dataverse.downloads.untargz","page":"Home","title":"Dataverse.downloads.untargz","text":"untargz(fil)\n\nDecompress and extract data from a .tar.gz file.\n\n\n\n\n\n","category":"function"}]
}
